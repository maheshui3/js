/*Given two strings, write a function to determine if the second string is an anagram of the first. 
An anagram is a word, phrase, or name formed by rearranging the letters of another, such as cinema, formed from iceman.*/

//step1: check if both strings have equal length or not, if not they are not anagrams
//step2: define two variables to store charMaps for strings
//step3: we are performing few array buitin operations to find charMaps for strings
//step4: if both charMaps are equal, given strings are anagrams

/*COMMENTS: below code is of time complexity O(n2).  
We used built in methods they are all of O(n)
*/
function validAnagram(str1, str2) {
    if(str1.length !== str2.length) {
        return false;
    }
    let charMap1 = str1.split('').sort().join('').toLowerCase();
    console.log(`charMapone is ${charMap1}`);
    let charMap2 = str2.split('').sort().join('').toLowerCase();
    console.log(`charMaptwo is ${charMap2}`)
    if(charMap1 !== charMap2) { 
        return false
    }
    return true;
}

console.log(validAnagram("rat","car"))// false
console.log(validAnagram('awesome', 'awesom')) // false
console.log(validAnagram('qwerty', 'qeywrt')) // true 

//step1: check if two arrays have equal length, if not return false.
//step2: create two objects two store key and value (frequency) for two arrays.
//step3: loop through both arrays, if the value not existed - set value to 1, if its existed increment the value by 1
//step4: compare both the objects for keys and values if they both are same - return true
//step5: if not false

/*COMMENTS: below code is of time complexity O(n).  
for loop runs n times, as we have 3 for loops O(3*n) equals O(n) so the time complexity of below solution is O(n)
*/
function validAnagramM2(str1, str2){
    if(str1.length !== str2.length) {
        return false;
    }
    let firstStrCharCount = {};
    let secondStrCharCount = {};
    for (const elem of str1) {
        firstStrCharCount[elem] = (firstStrCharCount[elem] || 0) + 1;
    }
    for (const elem of str2) {
        secondStrCharCount[elem] = (secondStrCharCount[elem] || 0) + 1;
    }
    for (const key in firstStrCharCount) {
        if (!((key) in secondStrCharCount)) { 
            return false;
        }
        if(firstStrCharCount[key] !== secondStrCharCount[key]){
            return false;
        }
    }
    return true;
}

console.log(validAnagramM2("race","care"))// true
console.log(validAnagramM2('part', 'trap')) // true
console.log(validAnagramM2('qwerty', 'qeywrt')) // true 


function validAnagramM3(str1, str2){
    if(str1.length !== str2.length) {
        return false;
    }
    let lookUp = {};
    for (const elem of str1) {
        lookUp[elem] = (lookUp[elem] || 0) + 1;
    }
    for (const elem of str2) {
        if(!lookUp[elem]) {
            return false;
        } else {
            lookUp[elem] -= 1;
        }
    }
    return true;
}

console.log(validAnagramM3("race","care"))// true
console.log(validAnagramM3('part', 'trap')) // true
console.log(validAnagramM3('qwerty', 'qeywrt')) // true 

